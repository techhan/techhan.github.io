---
title: "[CS50] 배열"
excerpt: "컴파일링, 디버깅, 배열 등"
categories: 
  - Study
tags: 
  - CS
toc : true
---

<br>

<p align="center">
  <a href="https://www.boostcourse.org/cs112" target="_blank">
    <img src="https://user-images.githubusercontent.com/70805241/120475971-009abc80-c3e5-11eb-89d9-fbe289f41b73.png">
  </a>
</p>

<br>


> ## 컴파일링

```c
#include <stdio.h>

int main(void){
    printf("hello, world\n");
}
```

<br>

- main 함수는 프로그램의 시작점으로써 실행 버튼을 클릭하는 것과 같다.
- printf는 출력을 담당하는 함수이며 사용하기 위해서는 stdio.h 라이브러리가 필요하다.
- stdio.h는 헤더 파일로 C 언어로 작성되어 있으며 파일명이 .h로 끝나는 파일이다.
     - 이 파일에는 printf 함수의 프로토타입이 있어서 Clang 컴파일러가 프로그램을 컴파일할 때 printf가 무엇인지 알려주는 역할을 한다.
- 코드를 clang hello.c로 컴파일하고 ./a.out 명령으로 프로그램을 실행할 때 이 과정은 0과 1로 이루어진 파일 a.out을 생성하여 실행 가능하게 한다.

<br>

- a.out이 아닌 다른 파일명으로 컴파일하고 싶다면?
```
clang -o hello hello.c
```

- CS50 라이브러리를 사용한 프로그램을 컴파일 할 때는?
```c
clang -o hello hello.c -lcs50
```

이것은 clang에게 CS50 라이브러리에 있는 모든 0과 1들을 여기에 연결하라는 의미이다. <br>
더 간단히는 `make` 프로그램을 이용하면 이 모든 컴파일 과정을 자동으로 처리할 수 있다. <br>

make나 clang을 사용해서 프로그램을 실행할 때 아래 네 개의 단계를 거친다. 
- 전처리
- 컴파일링
- 어셈블링
- 링킹


<br><br>

### 전처리(Precompile)

- 컴파일의 전체 과정은 네 단계로 나누어볼 수 있다. 그 중 첫 번째 단계가 전처리이다.
- 전처리는 전처리기에 의해 수행된다.
- '#'으로 시작되는 C 소스코드는 전처리기에 실질적인 컴파일이 이루어지기 전에 무언가를 실행하라 알려준다.
- ex) `#include`는 전처리기에게 다른 파일의 내용을 포함시키라고 알려준다.

<br>

### 컴파일(Compile)

- 전처리기가 전처리한 소스 코드를 생성하고 나면 그 다음 단계는 컴파일이다.
- 컴파일러라고 불리는 프로그램은 C 코드를 **어셈블리어라는 저수준 프로그래밍 언어**로 컴파일한다.
- 어셈블리는 C보다 연산의 종류가 훨씬 적지만, 여러 연산들이 함께 사용되면 C에서 할 수 있는 모든 것들을 수행할 수 있다.
- C 코드를 어셈블리 코드로 변환시켜줌으로써 컴파일러는 컴퓨터가 이해할 수 있는 언어와 최대한 가까운 프로그램으로 만들어준다.
- 컴파일이란 용어는 소스 코드에서 오브젝트 코드로 변환하는 전체 과정을 통틀어 일컫기도 하지만, 구체적으로 전처리한 소스 코드를 어셈블리 코드로 변환시키는 단계를 말하기도 한다.

<br>

### 어셈블(Assemble)

- 어셈블 단계는 **어셈블리 코드를 오브젝트 코드**로 변환시킨다. 
- 컴퓨터의 중앙처리장치가 프로그램을 어떻게 수행해야 하는지 알 수 있는 명령어 형태인 **연속된 0과 1들로 바꿔주는 작업**
- 이 변환작업은 어셈블러라는 프로그램이 수행한다. 소스 코드에서 오브젝트 코드로 컴파일 되어야 할 파일이 딱 한 개라면, 컴파일 작업은 여기서 끝이 난다. 그렇지 않은 경우는 다음 단계인 링크라 불리는 단계가 추가된다.

<br>

### 링크(Link)

- 만약 프로그램이 **여러 개의 파일로 이루어져 있어 하나의 오브젝트 파일로 합쳐져야 한다면** `링크`라는 컴파일의 마지막 단계가 필요하다.
- 링커는 여러 개의 다른 오브젝트 코드 파일을 실행 가능한 하나의 오브젝트 코드 파일로 합쳐준다.


<br>

이 네 단계를 거치면 최종적으로 실행 가능한 파일이 완성된다. <br>


<br>

---------

<br>

